{"ast":null,"code":"// для работы с mobx\nimport { makeAutoObservable } from \"mobx\";\nexport default class CartStore {\n  constructor() {\n    this._cartItems = [];\n    this._cart = [];\n    makeAutoObservable(this);\n  }\n\n  // экшены\n  setCartItems(items) {\n    this._cartItems = items.map(item => ({\n      id: item.id,\n      cart_id: item.cart_id,\n      product_id: item.product_id,\n      quantity: item.quantity\n    }));\n  }\n\n  // Добавим метод для обновления или добавления товара в корзину\n  setCartItem(updatedItem) {\n    const index = this._cartItems.findIndex(item => item.product_id === updatedItem.product_id);\n    if (index !== -1) {\n      // Обновляем существующий товар\n      this._cartItems[index] = updatedItem;\n    } else {\n      // Если товара нет в корзине, добавляем новый\n      this._cartItems.push(updatedItem);\n    }\n  }\n  setCart(cart) {\n    this._cart = {\n      id: cart.id,\n      user_id: cart.user_id\n    };\n  }\n  get cart() {\n    return this._cart; // Возвращаем саму корзину\n  }\n  get cartItems() {\n    return this._cartItems;\n  }\n}\n\n// const Cart = sequelize.define(\"Cart\", {\n//   id: { type: DataTypes.INTEGER, primaryKey: true, autoIncrement: true },\n//   user_id: { type: DataTypes.INTEGER, allowNull: false, references: { model: User, key: \"id\" } },\n//   created_at: { type: DataTypes.DATE, allowNull: false, defaultValue: DataTypes.NOW },\n// });","map":{"version":3,"names":["makeAutoObservable","CartStore","constructor","_cartItems","_cart","setCartItems","items","map","item","id","cart_id","product_id","quantity","setCartItem","updatedItem","index","findIndex","push","setCart","cart","user_id","cartItems"],"sources":["C:/Users/redmi/Desktop/autoparts-shop/frontend/src/store/CartStore.js"],"sourcesContent":["// для работы с mobx\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class CartStore {\r\n  constructor() {\r\n    this._cartItems = [];\r\n    this._cart = [];\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  // экшены\r\n  setCartItems(items) {\r\n    this._cartItems = items.map((item) => ({\r\n      id: item.id,\r\n      cart_id: item.cart_id,\r\n      product_id: item.product_id,\r\n      quantity: item.quantity,\r\n    }));\r\n  }\r\n\r\n  // Добавим метод для обновления или добавления товара в корзину\r\n  setCartItem(updatedItem) {\r\n    const index = this._cartItems.findIndex((item) => item.product_id === updatedItem.product_id);\r\n    if (index !== -1) {\r\n      // Обновляем существующий товар\r\n      this._cartItems[index] = updatedItem;\r\n    } else {\r\n      // Если товара нет в корзине, добавляем новый\r\n      this._cartItems.push(updatedItem);\r\n    }\r\n  }\r\n\r\n  setCart(cart) {\r\n    this._cart = {\r\n      id: cart.id,\r\n      user_id: cart.user_id,\r\n    };\r\n  }\r\n\r\n  get cart() {\r\n    return this._cart; // Возвращаем саму корзину\r\n  }\r\n\r\n  get cartItems() {\r\n    return this._cartItems;\r\n  }\r\n}\r\n\r\n// const Cart = sequelize.define(\"Cart\", {\r\n//   id: { type: DataTypes.INTEGER, primaryKey: true, autoIncrement: true },\r\n//   user_id: { type: DataTypes.INTEGER, allowNull: false, references: { model: User, key: \"id\" } },\r\n//   created_at: { type: DataTypes.DATE, allowNull: false, defaultValue: DataTypes.NOW },\r\n// });\r\n"],"mappings":"AAAA;AACA,SAASA,kBAAkB,QAAQ,MAAM;AAEzC,eAAe,MAAMC,SAAS,CAAC;EAC7BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,KAAK,GAAG,EAAE;IACfJ,kBAAkB,CAAC,IAAI,CAAC;EAC1B;;EAEA;EACAK,YAAYA,CAACC,KAAK,EAAE;IAClB,IAAI,CAACH,UAAU,GAAGG,KAAK,CAACC,GAAG,CAAEC,IAAI,KAAM;MACrCC,EAAE,EAAED,IAAI,CAACC,EAAE;MACXC,OAAO,EAAEF,IAAI,CAACE,OAAO;MACrBC,UAAU,EAAEH,IAAI,CAACG,UAAU;MAC3BC,QAAQ,EAAEJ,IAAI,CAACI;IACjB,CAAC,CAAC,CAAC;EACL;;EAEA;EACAC,WAAWA,CAACC,WAAW,EAAE;IACvB,MAAMC,KAAK,GAAG,IAAI,CAACZ,UAAU,CAACa,SAAS,CAAER,IAAI,IAAKA,IAAI,CAACG,UAAU,KAAKG,WAAW,CAACH,UAAU,CAAC;IAC7F,IAAII,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB;MACA,IAAI,CAACZ,UAAU,CAACY,KAAK,CAAC,GAAGD,WAAW;IACtC,CAAC,MAAM;MACL;MACA,IAAI,CAACX,UAAU,CAACc,IAAI,CAACH,WAAW,CAAC;IACnC;EACF;EAEAI,OAAOA,CAACC,IAAI,EAAE;IACZ,IAAI,CAACf,KAAK,GAAG;MACXK,EAAE,EAAEU,IAAI,CAACV,EAAE;MACXW,OAAO,EAAED,IAAI,CAACC;IAChB,CAAC;EACH;EAEA,IAAID,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAACf,KAAK,CAAC,CAAC;EACrB;EAEA,IAAIiB,SAASA,CAAA,EAAG;IACd,OAAO,IAAI,CAAClB,UAAU;EACxB;AACF;;AAEA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}