{"ast":null,"code":"import { makeAutoObservable } from \"mobx\";\nexport default class CartStore {\n  constructor() {\n    this._cartItems = [];\n    this._cart = null;\n    makeAutoObservable(this);\n  }\n\n  // Экшены\n  setCartItems(items) {\n    const newItems = Array.isArray(items) ? items : [items];\n    newItems.forEach(item => {\n      const index = this._cartItems.findIndex(i => i.product_id === item.product_id);\n      if (index !== -1) {\n        this._cartItems[index].quantity += item.quantity || 1;\n      } else {\n        this._cartItems.push({\n          id: item.id,\n          cart_id: item.cart_id,\n          product_id: item.product_id,\n          quantity: item.quantity || 1\n        });\n      }\n    });\n  }\n  setCart(cart) {\n    this._cart = {\n      id: cart.id,\n      user_id: cart.user_id\n    };\n  }\n\n  // Геттеры\n  get cart() {\n    return this._cart;\n  }\n  get cartItems() {\n    return this._cartItems;\n  }\n}","map":{"version":3,"names":["makeAutoObservable","CartStore","constructor","_cartItems","_cart","setCartItems","items","newItems","Array","isArray","forEach","item","index","findIndex","i","product_id","quantity","push","id","cart_id","setCart","cart","user_id","cartItems"],"sources":["C:/Users/redmi/Desktop/autoparts-shop/frontend/src/store/CartStore.js"],"sourcesContent":["import { makeAutoObservable } from \"mobx\";\r\n\r\nexport default class CartStore {\r\n  constructor() {\r\n    this._cartItems = [];\r\n    this._cart = null;\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  // Экшены\r\n  setCartItems(items) {\r\n    const newItems = Array.isArray(items) ? items : [items];\r\n\r\n    newItems.forEach((item) => {\r\n      const index = this._cartItems.findIndex((i) => i.product_id === item.product_id);\r\n\r\n      if (index !== -1) {\r\n        this._cartItems[index].quantity += item.quantity || 1;\r\n      } else {\r\n        this._cartItems.push({\r\n          id: item.id,\r\n          cart_id: item.cart_id,\r\n          product_id: item.product_id,\r\n          quantity: item.quantity || 1,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  setCart(cart) {\r\n    this._cart = {\r\n      id: cart.id,\r\n      user_id: cart.user_id,\r\n    };\r\n  }\r\n\r\n  // Геттеры\r\n  get cart() {\r\n    return this._cart;\r\n  }\r\n\r\n  get cartItems() {\r\n    return this._cartItems;\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,MAAM;AAEzC,eAAe,MAAMC,SAAS,CAAC;EAC7BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjBJ,kBAAkB,CAAC,IAAI,CAAC;EAC1B;;EAEA;EACAK,YAAYA,CAACC,KAAK,EAAE;IAClB,MAAMC,QAAQ,GAAGC,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,GAAGA,KAAK,GAAG,CAACA,KAAK,CAAC;IAEvDC,QAAQ,CAACG,OAAO,CAAEC,IAAI,IAAK;MACzB,MAAMC,KAAK,GAAG,IAAI,CAACT,UAAU,CAACU,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,UAAU,KAAKJ,IAAI,CAACI,UAAU,CAAC;MAEhF,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB,IAAI,CAACT,UAAU,CAACS,KAAK,CAAC,CAACI,QAAQ,IAAIL,IAAI,CAACK,QAAQ,IAAI,CAAC;MACvD,CAAC,MAAM;QACL,IAAI,CAACb,UAAU,CAACc,IAAI,CAAC;UACnBC,EAAE,EAAEP,IAAI,CAACO,EAAE;UACXC,OAAO,EAAER,IAAI,CAACQ,OAAO;UACrBJ,UAAU,EAAEJ,IAAI,CAACI,UAAU;UAC3BC,QAAQ,EAAEL,IAAI,CAACK,QAAQ,IAAI;QAC7B,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ;EAEAI,OAAOA,CAACC,IAAI,EAAE;IACZ,IAAI,CAACjB,KAAK,GAAG;MACXc,EAAE,EAAEG,IAAI,CAACH,EAAE;MACXI,OAAO,EAAED,IAAI,CAACC;IAChB,CAAC;EACH;;EAEA;EACA,IAAID,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAACjB,KAAK;EACnB;EAEA,IAAImB,SAASA,CAAA,EAAG;IACd,OAAO,IAAI,CAACpB,UAAU;EACxB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}